# MP1.2说明文档

已经实现的功能：所有实验要求的功能。

- 关键词：直接匹配，返回对应的token。true和false保证第一个字母为小写。忽略大小写用`(?i:xxx)`实现。
- 数字、标识符：加入stringtable，返回值存在`yylval.symbol`里，返回对应的token。
- 空白符：直接跳过
- 字符串：从`"`开始进入string状态，读到的东西用`yymore()`继续，直到字符串结束的时候统一处理。统一处理时把转义都恢复成对应的字符，存在`string_buf`里。
- 注释：多行注释每次进入时嵌套计数加一，退出时减一，减到0退出注释状态。
- 错误处理：遇到无效字符（不可能是任何token的开头）、字符串过长、或者包含了无效字符、字符串包含非转义的换行、字符串/注释中遇到了EOF、在注释之外的地方遇到了`*)`，设置`yylval.error_msg`为错误信息，并返回`ERROR`即可。
- 测试：使用自己写的测试脚本对比实验带的lexer程序和自己的lexer程序对于相同输入文件的输出结果，用diff比较。这部分没有放入代码仓库。
